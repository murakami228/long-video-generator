# スクリプト生成ルール (Script Generation Rules)

このドキュメントでは、`input.json` を作成する際のルールについて説明します。

## 1. テロップ（字幕）のルール

### 文字数制限
- **1つのセクションにつき、テロップは1行以内**に収めることを目安とします。
- **推奨文字数**: 約35文字以内
  - 画面下部に表示される字幕エリア（黒背景）に収まる長さを想定しています。
  - 長すぎる場合は、セクションを分割するか、要約して短くしてください。

### 強調表示（ハイライト）
- 重要な単語やフレーズを**黄色**で強調表示できます。
- `input.json` の各セクションに `highlight` フィールドを追加し、強調したい単語の配列を指定します。

**例:**
```json
{
    "id": "step1",
    "text": "運送業の許可を取得するには、最低でも600万円から1500万円程度の自己資金が必要です。",
    "highlight": ["600万円", "1500万円", "自己資金"],
    "step": true
}
```

## 2. バリデーションチェック

`scripts/validate_input.ts` を実行することで、文字数超過などのルール違反を自動的にチェックできます。

```bash
npx tsx scripts/validate_input.ts <project_slug>
```

- **Warning**: 35文字を超えるセクションがある場合、警告が表示されます。

## 3. ナレーションとテロップの整合性

### 内容の一致
- **`text`（テロップ）と `speechText`（音声）は、原則として内容を一致させる**必要があります。
- 視聴者が耳で聞く情報と目で見る情報に乖離があると、認知負荷が高まり動画の質が低下します。

### speechText（読み上げ）の工夫
- **句読点の制限**: 音声の不自然な途切れを防ぐため、1つのセクション内の句読点（、。）は**原則2個以下**に抑えてください。
- **連続句読点の禁止**: `、、` や `。。` のように句読点を連続させることは、長い無音時間を生むため禁止です。
- **英字表記の許容**: `FX` や `SNS` などの一般的な英字表記はそのまま使用可能です（バリデータでは警告が出ますが、許容されます）。

## 4. 動画構成のルール
- **6ステップ構造**: 動画の構成は `導入 + (本編: 6の倍数) + 終了` の形式を守る必要があります。
- これに沿わない構成は、バリデーションでエラーとなります。
